{
	"info": {
		"_postman_id": "5f3c38c2-e597-4de5-b2ab-deb73903cefa",
		"name": "Component Webhook",
		"description": "Test postman collection to test the ODA-CA component webhook. This converts different versions of the Component (and is called by the kubernetes API).",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "314044"
	},
	"item": [
		{
			"name": "GET test (heartbeat)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"  pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Result is success\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.test).to.eql(\"success\");\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "http://{{hostname}}/",
					"protocol": "http",
					"host": [
						"{{hostname}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "POST test (conversion from v1beta2 to v1beta3)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"  pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Result is success\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.result.status).to.eql(\"Success\");\r",
							"});\r",
							"pm.test(\"coreFunction api spec becomes an array\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.coreFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.coreFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.an('array');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"managementFunction api spec becomes an array\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.managementFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.managementFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.an('array');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"\r",
							"pm.test(\"securityFunction api spec becomes an array\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.securityFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.securityFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.an('array');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"kind\": \"ConversionReview\",\r\n  \"apiVersion\": \"apiextensions.k8s.io/v1beta1\",\r\n  \"request\": {\r\n    \"uid\": \"e8a2ecf6-ad89-489d-98ba-a262e2bbb247\",\r\n    \"desiredAPIVersion\": \"oda.tmforum.org/v1beta3\",\r\n    \"objects\": [\r\n      {\r\n        \"apiVersion\": \"oda.tmforum.org/v1beta2\",\r\n        \"kind\": \"Component\",\r\n        \"metadata\": {\r\n          \"annotations\": {\r\n            \"meta.helm.sh/release-name\": \"pim\",\r\n            \"meta.helm.sh/release-namespace\": \"components\"\r\n          },\r\n          \"creationTimestamp\": \"2022-11-29T14:25:50Z\",\r\n          \"finalizers\": [],\r\n          \"generation\": 31,\r\n          \"labels\": {\r\n            \"app.kubernetes.io/managed-by\": \"Helm\",\r\n            \"oda.tmforum.org/componentName\": \"pim-pimgateway\"\r\n          },\r\n          \"name\": \"pim-pimgateway\",\r\n          \"namespace\": \"components\",\r\n          \"uid\": \"e587f0a5-6711-413b-9c8e-a8d54ac30bad\"\r\n        },\r\n        \"spec\": {\r\n          \"coreFunction\": {\r\n            \"dependentAPIs\": [],\r\n            \"exposedAPIs\": [\r\n              {\r\n                \"developerUI\": \"/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                \"implementation\": \"pim-pimgateway\",\r\n                \"name\": \"pimgateway\",\r\n                \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                \"port\": 8080,\r\n                \"specification\": \"https://raw.githubusercontent.com/tmforum-apis/TMF637_ProductInventory/master/TMF637-ProductInventory-v4.0.0.swagger.json\"\r\n              }\r\n            ]\r\n          },\r\n          \"description\": \"Simple Product Inventory Managment Gateway ODA-Component from Open-API reference implementation.\",\r\n          \"eventNotification\": {\r\n            \"publishedEvents\": [],\r\n            \"subscribedEvents\": []\r\n          },\r\n          \"maintainers\": [\r\n            {\r\n              \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n              \"name\": \"Kamal Maghsoudlou\"\r\n            }\r\n          ],\r\n          \"owners\": [\r\n            {\r\n              \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n              \"name\": \"Kamal Maghsoudlou\"\r\n            }\r\n          ],\r\n          \"version\": \"0.0.1\",\r\n          \"managementFunction\": {\r\n            \"dependentAPIs\": [],\r\n            \"exposedAPIs\": [\r\n              {\r\n                \"apitype\": \"prometheus\",\r\n                \"implementation\": \"r1-productcatalog-sm\",\r\n                \"name\": \"metrics\",\r\n                \"path\": \"/r1-productcatalog/metrics\",\r\n                \"port\": 4000\r\n              }\r\n            ]\r\n          },\r\n          \"securityFunction\": {\r\n            \"controllerRole\": \"Admin\",\r\n            \"dependentAPIs\": [],\r\n            \"exposedAPIs\": [\r\n              {\r\n                \"developerUI\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                \"implementation\": \"pim-partyroleapi\",\r\n                \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                \"port\": 8080,\r\n                \"specification\": \"https://raw.githubusercontent.com/tmforum-apis/TMF669_PartyRole/master/TMF669-PartyRole-v4.0.0.swagger.json\",\r\n                \"name\": \"partyrole\"\r\n              }\r\n            ]\r\n          },\r\n          \"id\": \"TMFC005\",\r\n          \"name\": \"productinventorymanagement\",\r\n          \"functionalBlock\": \"CoreCommerceManagement\"\r\n        },\r\n        \"status\": {\r\n          \"exposedAPIs\": [\r\n            {\r\n              \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n              \"implementation\": \"pim-pimgateway\",\r\n              \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n              \"name\": \"pim-pimgateway-pimgateway\",\r\n              \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n              \"port\": 8080,\r\n              \"ready\": true,\r\n              \"uid\": \"d7038a1e-e261-4fb1-8e78-bfa5117a2574\",\r\n              \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/\"\r\n            }\r\n          ],\r\n          \"kopf\": {\r\n            \"progress\": {}\r\n          },\r\n          \"securityAPIs\": {\r\n            \"partyrole\": {\r\n              \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n              \"implementation\": \"pim-partyroleapi\",\r\n              \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n              \"name\": \"pim-pimgateway-partyrole\",\r\n              \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n              \"port\": 8080,\r\n              \"ready\": true,\r\n              \"uid\": \"65082faf-10d1-447a-ace8-05222e2ade07\",\r\n              \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4\"\r\n            }\r\n          },\r\n          \"security_client_add/status.summary/status.deployment_status\": {\r\n            \"identityProvider\": \"Keycloak\",\r\n            \"listenerRegistered\": true\r\n          },\r\n          \"summary/status\": {\r\n            \"deployment_status\": \"Complete\",\r\n            \"developerUIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs \",\r\n            \"exposedAPIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/ \"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  \"response\": {\r\n    \"uid\": \"\",\r\n    \"convertedObjects\": null,\r\n    \"result\": {\r\n      \"metadata\": {}\r\n    }\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{hostname}}/",
					"protocol": "http",
					"host": [
						"{{hostname}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "POST test (conversion from v1beta3 to v1beta2)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"  pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Result is success\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.result.status).to.eql(\"Success\");\r",
							"});\r",
							"pm.test(\"coreFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.coreFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.coreFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"managementFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.managementFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.managementFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"securityFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.securityFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.securityFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"kind\": \"ConversionReview\",\r\n  \"apiVersion\": \"apiextensions.k8s.io/v1beta1\",\r\n  \"request\": {\r\n    \"uid\": \"e8a2ecf6-ad89-489d-98ba-a262e2bbb247\",\r\n    \"desiredAPIVersion\": \"oda.tmforum.org/v1beta2\",\r\n    \"objects\": [\r\n        {\r\n            \"apiVersion\": \"oda.tmforum.org/v1beta3\",\r\n            \"kind\": \"Component\",\r\n            \"metadata\": {\r\n                \"annotations\": {\r\n                    \"meta.helm.sh/release-name\": \"pim\",\r\n                    \"meta.helm.sh/release-namespace\": \"components\",\r\n                    \"webhookconverted\": \"Webhook converted From oda.tmforum.org/v1beta2 to oda.tmforum.org/v1beta3\"\r\n                },\r\n                \"creationTimestamp\": \"2022-11-29T14:25:50Z\",\r\n                \"finalizers\": [],\r\n                \"generation\": 31,\r\n                \"labels\": {\r\n                    \"app.kubernetes.io/managed-by\": \"Helm\",\r\n                    \"oda.tmforum.org/componentName\": \"pim-pimgateway\"\r\n                },\r\n                \"name\": \"pim-pimgateway\",\r\n                \"namespace\": \"components\",\r\n                \"uid\": \"e587f0a5-6711-413b-9c8e-a8d54ac30bad\"\r\n            },\r\n            \"spec\": {\r\n                \"coreFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                            \"implementation\": \"pim-pimgateway\",\r\n                            \"name\": \"pimgateway\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                \"https://raw.githubusercontent.com/tmforum-apis/TMF637_ProductInventory/master/TMF637-ProductInventory-v4.0.0.swagger.json\"\r\n                            ]\r\n                        }\r\n                    ]\r\n                },\r\n                \"description\": \"Simple Product Inventory Managment Gateway ODA-Component from Open-API reference implementation.\",\r\n                \"eventNotification\": {\r\n                    \"publishedEvents\": [],\r\n                    \"subscribedEvents\": []\r\n                },\r\n                \"maintainers\": [\r\n                    {\r\n                        \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                        \"name\": \"Kamal Maghsoudlou\"\r\n                    }\r\n                ],\r\n                \"owners\": [\r\n                    {\r\n                        \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                        \"name\": \"Kamal Maghsoudlou\"\r\n                    }\r\n                ],\r\n                \"version\": \"0.0.1\",\r\n                \"managementFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"apitype\": \"prometheus\",\r\n                            \"implementation\": \"r1-productcatalog-sm\",\r\n                            \"name\": \"metrics\",\r\n                            \"path\": \"/r1-productcatalog/metrics\",\r\n                            \"port\": 4000,\r\n                            \"specification\": [\r\n                                null\r\n                            ]\r\n                        }\r\n                    ]\r\n                },\r\n                \"securityFunction\": {\r\n                    \"controllerRole\": \"Admin\",\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                            \"implementation\": \"pim-partyroleapi\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                \"https://raw.githubusercontent.com/tmforum-apis/TMF669_PartyRole/master/TMF669-PartyRole-v4.0.0.swagger.json\"\r\n                            ],\r\n                            \"name\": \"partyrole\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"id\": \"TMFC005\",\r\n                \"name\": \"productinventorymanagement\",\r\n                \"functionalBlock\": \"CoreCommerceManagement\"\r\n            },\r\n            \"status\": {\r\n                \"exposedAPIs\": [\r\n                    {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                        \"implementation\": \"pim-pimgateway\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-pimgateway\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"d7038a1e-e261-4fb1-8e78-bfa5117a2574\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/\"\r\n                    }\r\n                ],\r\n                \"kopf\": {\r\n                    \"progress\": {}\r\n                },\r\n                \"securityAPIs\": {\r\n                    \"partyrole\": {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                        \"implementation\": \"pim-partyroleapi\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-partyrole\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"65082faf-10d1-447a-ace8-05222e2ade07\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4\"\r\n                    }\r\n                },\r\n                \"security_client_add/status.summary/status.deployment_status\": {\r\n                    \"identityProvider\": \"Keycloak\",\r\n                    \"listenerRegistered\": true\r\n                },\r\n                \"summary/status\": {\r\n                    \"deployment_status\": \"Complete\",\r\n                    \"developerUIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs \",\r\n                    \"exposedAPIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/ \"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n  },\r\n  \"response\": {\r\n    \"uid\": \"\",\r\n    \"convertedObjects\": null,\r\n    \"result\": {\r\n      \"metadata\": {}\r\n    }\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{hostname}}/",
					"protocol": "http",
					"host": [
						"{{hostname}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "POST test (conversion from v1beta3 to v1beta4)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"  pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Result is success\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.result.status).to.eql(\"Success\");\r",
							"});\r",
							"pm.test(\"coreFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.coreFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.coreFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"managementFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.managementFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.managementFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"securityFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.securityFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.securityFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"kind\": \"ConversionReview\",\r\n  \"apiVersion\": \"apiextensions.k8s.io/v1beta1\",\r\n  \"request\": {\r\n    \"uid\": \"e8a2ecf6-ad89-489d-98ba-a262e2bbb247\",\r\n    \"desiredAPIVersion\": \"oda.tmforum.org/v1beta4\",\r\n    \"objects\": [\r\n        {\r\n            \"apiVersion\": \"oda.tmforum.org/v1beta3\",\r\n            \"kind\": \"Component\",\r\n            \"metadata\": {\r\n                \"annotations\": {\r\n                    \"meta.helm.sh/release-name\": \"pim\",\r\n                    \"meta.helm.sh/release-namespace\": \"components\",\r\n                    \"webhookconverted\": \"Webhook converted From oda.tmforum.org/v1beta2 to oda.tmforum.org/v1beta3\"\r\n                },\r\n                \"creationTimestamp\": \"2022-11-29T14:25:50Z\",\r\n                \"finalizers\": [],\r\n                \"generation\": 31,\r\n                \"labels\": {\r\n                    \"app.kubernetes.io/managed-by\": \"Helm\",\r\n                    \"oda.tmforum.org/componentName\": \"pim-pimgateway\"\r\n                },\r\n                \"name\": \"pim-pimgateway\",\r\n                \"namespace\": \"components\",\r\n                \"uid\": \"e587f0a5-6711-413b-9c8e-a8d54ac30bad\"\r\n            },\r\n            \"spec\": {\r\n                \"coreFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                            \"implementation\": \"pim-pimgateway\",\r\n                            \"name\": \"pimgateway\",\r\n                            \"apiKeyVerification\": { \r\n                              \"enabled\": true\r\n                            },\r\n                            \"rateLimit\": {\r\n                                \"enabled\": true,\r\n                                \"limit\": 1000\r\n                            },\r\n                            \"quota\": {\r\n                                \"enabled\": false\r\n                            },\r\n                            \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                \"https://raw.githubusercontent.com/tmforum-apis/TMF637_ProductInventory/master/TMF637-ProductInventory-v4.0.0.swagger.json\"\r\n                            ]\r\n                        }\r\n                    ]\r\n                },\r\n                \"description\": \"Simple Product Inventory Managment Gateway ODA-Component from Open-API reference implementation.\",\r\n                \"eventNotification\": {\r\n                    \"publishedEvents\": [],\r\n                    \"subscribedEvents\": []\r\n                },\r\n                \"maintainers\": [\r\n                    {\r\n                        \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                        \"name\": \"Kamal Maghsoudlou\"\r\n                    }\r\n                ],\r\n                \"owners\": [\r\n                    {\r\n                        \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                        \"name\": \"Kamal Maghsoudlou\"\r\n                    }\r\n                ],\r\n                \"version\": \"0.0.1\",\r\n                \"managementFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"apitype\": \"prometheus\",\r\n                            \"implementation\": \"r1-productcatalog-sm\",\r\n                            \"name\": \"metrics\",\r\n                            \"path\": \"/r1-productcatalog/metrics\",\r\n                            \"port\": 4000\r\n                        }\r\n                    ]\r\n                },\r\n                \"securityFunction\": {\r\n                    \"controllerRole\": \"Admin\",\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                            \"implementation\": \"pim-partyroleapi\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                \"https://raw.githubusercontent.com/tmforum-apis/TMF669_PartyRole/master/TMF669-PartyRole-v4.0.0.swagger.json\"\r\n                            ],\r\n                            \"name\": \"partyrole\"\r\n                        }\r\n                    ]\r\n                },\r\n                \"id\": \"TMFC005\",\r\n                \"name\": \"productinventorymanagement\",\r\n                \"functionalBlock\": \"CoreCommerceManagement\"\r\n            },\r\n            \"status\": {\r\n                \"exposedAPIs\": [\r\n                    {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                        \"implementation\": \"pim-pimgateway\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-pimgateway\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"d7038a1e-e261-4fb1-8e78-bfa5117a2574\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/\"\r\n                    }\r\n                ],\r\n                \"kopf\": {\r\n                    \"progress\": {}\r\n                },\r\n                \"securityAPIs\": {\r\n                    \"partyrole\": {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                        \"implementation\": \"pim-partyroleapi\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-partyrole\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"65082faf-10d1-447a-ace8-05222e2ade07\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4\"\r\n                    }\r\n                },\r\n                \"security_client_add/status.summary/status.deployment_status\": {\r\n                    \"identityProvider\": \"Keycloak\",\r\n                    \"listenerRegistered\": true\r\n                },\r\n                \"summary/status\": {\r\n                    \"deployment_status\": \"Complete\",\r\n                    \"developerUIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs \",\r\n                    \"exposedAPIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/ \"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n  },\r\n  \"response\": {\r\n    \"uid\": \"\",\r\n    \"convertedObjects\": null,\r\n    \"result\": {\r\n      \"metadata\": {}\r\n    }\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{hostname}}/",
					"protocol": "http",
					"host": [
						"{{hostname}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "POST test (conversion from v1beta4 to v1beta3)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"  pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Result is success\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.result.status).to.eql(\"Success\");\r",
							"});\r",
							"pm.test(\"coreFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.coreFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.coreFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"managementFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.managementFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.managementFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"securityFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.securityFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.securityFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"kind\": \"ConversionReview\",\r\n  \"apiVersion\": \"apiextensions.k8s.io/v1beta1\",\r\n  \"request\": {\r\n    \"uid\": \"e8a2ecf6-ad89-489d-98ba-a262e2bbb247\",\r\n    \"desiredAPIVersion\": \"oda.tmforum.org/v1beta3\",\r\n    \"objects\": [\r\n        {\r\n            \"apiVersion\": \"oda.tmforum.org/v1beta4\",\r\n            \"kind\": \"Component\",\r\n            \"metadata\": {\r\n                \"annotations\": {\r\n                    \"meta.helm.sh/release-name\": \"pim\",\r\n                    \"meta.helm.sh/release-namespace\": \"components\",\r\n                    \"webhookconverted\": \"Webhook converted From oda.tmforum.org/v1beta2 to oda.tmforum.org/v1beta3\"\r\n                },\r\n                \"creationTimestamp\": \"2022-11-29T14:25:50Z\",\r\n                \"finalizers\": [],\r\n                \"generation\": 31,\r\n                \"labels\": {\r\n                    \"app.kubernetes.io/managed-by\": \"Helm\",\r\n                    \"oda.tmforum.org/componentName\": \"pim-pimgateway\"\r\n                },\r\n                \"name\": \"pim-pimgateway\",\r\n                \"namespace\": \"components\",\r\n                \"uid\": \"e587f0a5-6711-413b-9c8e-a8d54ac30bad\"\r\n            },\r\n            \"spec\": {\r\n                \"coreFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                            \"implementation\": \"pim-pimgateway\",\r\n                            \"name\": \"pimgateway\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                {\r\n                                    \"url\": \"https://raw.githubusercontent.com/tmforum-apis/TMF637_ProductInventory/master/TMF637-ProductInventory-v4.0.0.swagger.json\"\r\n                                }\r\n                            ],\r\n                            \"gatewayConfiguration\": {\r\n                                \"apiKeyVerification\": {\r\n                                    \"enabled\": true\r\n                                },\r\n                                \"rateLimit\": {\r\n                                    \"enabled\": true,\r\n                                    \"limit\": 1000\r\n                                },\r\n                                \"quota\": {\r\n                                    \"enabled\": false\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                \"eventNotification\": {\r\n                    \"publishedEvents\": [],\r\n                    \"subscribedEvents\": []\r\n                },\r\n                \"managementFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"apitype\": \"prometheus\",\r\n                            \"implementation\": \"r1-productcatalog-sm\",\r\n                            \"name\": \"metrics\",\r\n                            \"path\": \"/r1-productcatalog/metrics\",\r\n                            \"port\": 4000\r\n                        }\r\n                    ]\r\n                },\r\n                \"securityFunction\": {\r\n                    \"canvasSystemRole\": \"Admin\",\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                            \"implementation\": \"pim-partyroleapi\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                {\r\n                                    \"url\": \"https://raw.githubusercontent.com/tmforum-apis/TMF669_PartyRole/master/TMF669-PartyRole-v4.0.0.swagger.json\"\r\n                                }\r\n                            ],\r\n                            \"name\": \"partyrole\",\r\n                            \"gatewayConfiguration\": {}\r\n                        }\r\n                    ]\r\n                },\r\n                \"componentMetadata\": {\r\n                    \"id\": \"TMFC005\",\r\n                    \"name\": \"productinventorymanagement\",\r\n                    \"version\": \"0.0.1\",\r\n                    \"description\": \"Simple Product Inventory Managment Gateway ODA-Component from Open-API reference implementation.\",\r\n                    \"functionalBlock\": \"CoreCommerceManagement\",\r\n                    \"maintainers\": [\r\n                        {\r\n                            \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                            \"name\": \"Kamal Maghsoudlou\"\r\n                        }\r\n                    ],\r\n                    \"owners\": [\r\n                        {\r\n                            \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                            \"name\": \"Kamal Maghsoudlou\"\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n            \"status\": {\r\n                \"exposedAPIs\": [\r\n                    {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                        \"implementation\": \"pim-pimgateway\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-pimgateway\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"d7038a1e-e261-4fb1-8e78-bfa5117a2574\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/\"\r\n                    }\r\n                ],\r\n                \"kopf\": {\r\n                    \"progress\": {}\r\n                },\r\n                \"securityAPIs\": {\r\n                    \"partyrole\": {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                        \"implementation\": \"pim-partyroleapi\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-partyrole\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"65082faf-10d1-447a-ace8-05222e2ade07\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4\"\r\n                    }\r\n                },\r\n                \"security_client_add/status.summary/status.deployment_status\": {\r\n                    \"identityProvider\": \"Keycloak\",\r\n                    \"listenerRegistered\": true\r\n                },\r\n                \"summary/status\": {\r\n                    \"deployment_status\": \"Complete\",\r\n                    \"developerUIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs \",\r\n                    \"exposedAPIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/ \"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n  },\r\n  \"response\": {\r\n    \"uid\": \"\",\r\n    \"convertedObjects\": null,\r\n    \"result\": {\r\n      \"metadata\": {}\r\n    }\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{hostname}}/",
					"protocol": "http",
					"host": [
						"{{hostname}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "POST test (conversion from v1 to v1beta4)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"  pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Result is success\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.result.status).to.eql(\"Success\");\r",
							"});\r",
							"pm.test(\"coreFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.coreFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.coreFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"managementFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.managementFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.managementFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"securityFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.securityFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.securityFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"kind\": \"ConversionReview\",\r\n  \"apiVersion\": \"apiextensions.k8s.io/v1beta1\",\r\n  \"request\": {\r\n    \"uid\": \"e8a2ecf6-ad89-489d-98ba-a262e2bbb247\",\r\n    \"desiredAPIVersion\": \"oda.tmforum.org/v1beta4\",\r\n    \"objects\": [\r\n        {\r\n            \"apiVersion\": \"oda.tmforum.org/v1\",\r\n            \"kind\": \"Component\",\r\n            \"metadata\": {\r\n                \"annotations\": {\r\n                    \"meta.helm.sh/release-name\": \"pim\",\r\n                    \"meta.helm.sh/release-namespace\": \"components\",\r\n                    \"webhookconverted\": \"Webhook converted From oda.tmforum.org/v1beta2 to oda.tmforum.org/v1beta3\"\r\n                },\r\n                \"creationTimestamp\": \"2022-11-29T14:25:50Z\",\r\n                \"finalizers\": [],\r\n                \"generation\": 31,\r\n                \"labels\": {\r\n                    \"app.kubernetes.io/managed-by\": \"Helm\",\r\n                    \"oda.tmforum.org/componentName\": \"pim-pimgateway\"\r\n                },\r\n                \"name\": \"pim-pimgateway\",\r\n                \"namespace\": \"components\",\r\n                \"uid\": \"e587f0a5-6711-413b-9c8e-a8d54ac30bad\"\r\n            },\r\n            \"spec\": {\r\n                \"coreFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                            \"implementation\": \"pim-pimgateway\",\r\n                            \"name\": \"pimgateway\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                {\r\n                                    \"url\": \"https://raw.githubusercontent.com/tmforum-apis/TMF637_ProductInventory/master/TMF637-ProductInventory-v4.0.0.swagger.json\"\r\n                                }\r\n                            ],\r\n                            \"gatewayConfiguration\": {\r\n                                \"apiKeyVerification\": {\r\n                                    \"enabled\": true\r\n                                },\r\n                                \"rateLimit\": {\r\n                                    \"enabled\": true,\r\n                                    \"limit\": 1000\r\n                                },\r\n                                \"quota\": {\r\n                                    \"enabled\": false\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                \"eventNotification\": {\r\n                    \"publishedEvents\": [],\r\n                    \"subscribedEvents\": []\r\n                },\r\n                \"managementFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"apitype\": \"prometheus\",\r\n                            \"implementation\": \"r1-productcatalog-sm\",\r\n                            \"name\": \"metrics\",\r\n                            \"path\": \"/r1-productcatalog/metrics\",\r\n                            \"port\": 4000\r\n                        }\r\n                    ]\r\n                },\r\n                \"securityFunction\": {\r\n                    \"canvasSystemRole\": \"Admin\",\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                            \"implementation\": \"pim-partyroleapi\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                {\r\n                                    \"url\": \"https://raw.githubusercontent.com/tmforum-apis/TMF669_PartyRole/master/TMF669-PartyRole-v4.0.0.swagger.json\"\r\n                                }\r\n                            ],\r\n                            \"name\": \"partyrole\",\r\n                            \"gatewayConfiguration\": {}\r\n                        }\r\n                    ]\r\n                },\r\n                \"componentMetadata\": {\r\n                    \"id\": \"TMFC005\",\r\n                    \"name\": \"productinventorymanagement\",\r\n                    \"version\": \"0.0.1\",\r\n                    \"description\": \"Simple Product Inventory Managment Gateway ODA-Component from Open-API reference implementation.\",\r\n                    \"functionalBlock\": \"CoreCommerceManagement\",\r\n                    \"maintainers\": [\r\n                        {\r\n                            \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                            \"name\": \"Kamal Maghsoudlou\"\r\n                        }\r\n                    ],\r\n                    \"owners\": [\r\n                        {\r\n                            \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                            \"name\": \"Kamal Maghsoudlou\"\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n            \"status\": {\r\n                \"exposedAPIs\": [\r\n                    {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                        \"implementation\": \"pim-pimgateway\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-pimgateway\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"d7038a1e-e261-4fb1-8e78-bfa5117a2574\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/\"\r\n                    }\r\n                ],\r\n                \"kopf\": {\r\n                    \"progress\": {}\r\n                },\r\n                \"securityAPIs\": {\r\n                    \"partyrole\": {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                        \"implementation\": \"pim-partyroleapi\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-partyrole\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"65082faf-10d1-447a-ace8-05222e2ade07\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4\"\r\n                    }\r\n                },\r\n                \"security_client_add/status.summary/status.deployment_status\": {\r\n                    \"identityProvider\": \"Keycloak\",\r\n                    \"listenerRegistered\": true\r\n                },\r\n                \"summary/status\": {\r\n                    \"deployment_status\": \"Complete\",\r\n                    \"developerUIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs \",\r\n                    \"exposedAPIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/ \"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n  },\r\n  \"response\": {\r\n    \"uid\": \"\",\r\n    \"convertedObjects\": null,\r\n    \"result\": {\r\n      \"metadata\": {}\r\n    }\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{hostname}}/",
					"protocol": "http",
					"host": [
						"{{hostname}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "POST test (conversion from v1beta4 to v14)",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"  pm.response.to.have.status(200);\r",
							"});\r",
							"pm.test(\"Result is success\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.result.status).to.eql(\"Success\");\r",
							"});\r",
							"pm.test(\"coreFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.coreFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.coreFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"managementFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.managementFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.managementFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							"pm.test(\"securityFunction api spec becomes a string\", function () {\r",
							"  var jsonData = pm.response.json();\r",
							"  pm.expect(jsonData.response.convertedObjects[0].spec.securityFunction).to.be.an('object').and.not.be.empty;\r",
							"  for (api in jsonData.response.convertedObjects[0].spec.securityFunction.exposedAPIs) {\r",
							"    if (api.specification) {\r",
							"        pm.expect(api.specification).to.be.a('string');\r",
							"    }\r",
							"  }\r",
							"});\r",
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"kind\": \"ConversionReview\",\r\n  \"apiVersion\": \"apiextensions.k8s.io/v1beta1\",\r\n  \"request\": {\r\n    \"uid\": \"e8a2ecf6-ad89-489d-98ba-a262e2bbb247\",\r\n    \"desiredAPIVersion\": \"oda.tmforum.org/v1\",\r\n    \"objects\": [\r\n        {\r\n            \"apiVersion\": \"oda.tmforum.org/v1beta4\",\r\n            \"kind\": \"Component\",\r\n            \"metadata\": {\r\n                \"annotations\": {\r\n                    \"meta.helm.sh/release-name\": \"pim\",\r\n                    \"meta.helm.sh/release-namespace\": \"components\",\r\n                    \"webhookconverted\": \"Webhook converted From oda.tmforum.org/v1beta2 to oda.tmforum.org/v1beta3\"\r\n                },\r\n                \"creationTimestamp\": \"2022-11-29T14:25:50Z\",\r\n                \"finalizers\": [],\r\n                \"generation\": 31,\r\n                \"labels\": {\r\n                    \"app.kubernetes.io/managed-by\": \"Helm\",\r\n                    \"oda.tmforum.org/componentName\": \"pim-pimgateway\"\r\n                },\r\n                \"name\": \"pim-pimgateway\",\r\n                \"namespace\": \"components\",\r\n                \"uid\": \"e587f0a5-6711-413b-9c8e-a8d54ac30bad\"\r\n            },\r\n            \"spec\": {\r\n                \"coreFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                            \"implementation\": \"pim-pimgateway\",\r\n                            \"name\": \"pimgateway\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                {\r\n                                    \"url\": \"https://raw.githubusercontent.com/tmforum-apis/TMF637_ProductInventory/master/TMF637-ProductInventory-v4.0.0.swagger.json\"\r\n                                }\r\n                            ],\r\n                            \"gatewayConfiguration\": {\r\n                                \"apiKeyVerification\": {\r\n                                    \"enabled\": true\r\n                                },\r\n                                \"rateLimit\": {\r\n                                    \"enabled\": true,\r\n                                    \"limit\": 1000\r\n                                },\r\n                                \"quota\": {\r\n                                    \"enabled\": false\r\n                                }\r\n                            }\r\n                        }\r\n                    ]\r\n                },\r\n                \"eventNotification\": {\r\n                    \"publishedEvents\": [],\r\n                    \"subscribedEvents\": []\r\n                },\r\n                \"managementFunction\": {\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"apitype\": \"prometheus\",\r\n                            \"implementation\": \"r1-productcatalog-sm\",\r\n                            \"name\": \"metrics\",\r\n                            \"path\": \"/r1-productcatalog/metrics\",\r\n                            \"port\": 4000\r\n                        }\r\n                    ]\r\n                },\r\n                \"securityFunction\": {\r\n                    \"canvasSystemRole\": \"Admin\",\r\n                    \"dependentAPIs\": [],\r\n                    \"exposedAPIs\": [\r\n                        {\r\n                            \"developerUI\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                            \"implementation\": \"pim-partyroleapi\",\r\n                            \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                            \"port\": 8080,\r\n                            \"specification\": [\r\n                                {\r\n                                    \"url\": \"https://raw.githubusercontent.com/tmforum-apis/TMF669_PartyRole/master/TMF669-PartyRole-v4.0.0.swagger.json\"\r\n                                }\r\n                            ],\r\n                            \"name\": \"partyrole\",\r\n                            \"gatewayConfiguration\": {}\r\n                        }\r\n                    ]\r\n                },\r\n                \"componentMetadata\": {\r\n                    \"id\": \"TMFC005\",\r\n                    \"name\": \"productinventorymanagement\",\r\n                    \"version\": \"0.0.1\",\r\n                    \"description\": \"Simple Product Inventory Managment Gateway ODA-Component from Open-API reference implementation.\",\r\n                    \"functionalBlock\": \"CoreCommerceManagement\",\r\n                    \"maintainers\": [\r\n                        {\r\n                            \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                            \"name\": \"Kamal Maghsoudlou\"\r\n                        }\r\n                    ],\r\n                    \"owners\": [\r\n                        {\r\n                            \"email\": \"kamal.maghsoudlou@ericsson.com\",\r\n                            \"name\": \"Kamal Maghsoudlou\"\r\n                        }\r\n                    ]\r\n                }\r\n            },\r\n            \"status\": {\r\n                \"exposedAPIs\": [\r\n                    {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs\",\r\n                        \"implementation\": \"pim-pimgateway\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-pimgateway\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/productInventory/v4/\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"d7038a1e-e261-4fb1-8e78-bfa5117a2574\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/\"\r\n                    }\r\n                ],\r\n                \"kopf\": {\r\n                    \"progress\": {}\r\n                },\r\n                \"securityAPIs\": {\r\n                    \"partyrole\": {\r\n                        \"developerUI\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4/docs\",\r\n                        \"implementation\": \"pim-partyroleapi\",\r\n                        \"ip\": \"a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com\",\r\n                        \"name\": \"pim-pimgateway-partyrole\",\r\n                        \"path\": \"/pim-pimgateway/tmf-api/partyRoleManagement/v4\",\r\n                        \"port\": 8080,\r\n                        \"ready\": true,\r\n                        \"uid\": \"65082faf-10d1-447a-ace8-05222e2ade07\",\r\n                        \"url\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/partyRoleManagement/v4\"\r\n                    }\r\n                },\r\n                \"security_client_add/status.summary/status.deployment_status\": {\r\n                    \"identityProvider\": \"Keycloak\",\r\n                    \"listenerRegistered\": true\r\n                },\r\n                \"summary/status\": {\r\n                    \"deployment_status\": \"Complete\",\r\n                    \"developerUIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/api-docs \",\r\n                    \"exposedAPIsummary\": \"http://a576e999356a44e898169adcf3aaf879-368993360.eu-west-1.elb.amazonaws.com/pim-pimgateway/tmf-api/productInventory/v4/ \"\r\n                }\r\n            }\r\n        }\r\n    ]\r\n  },\r\n  \"response\": {\r\n    \"uid\": \"\",\r\n    \"convertedObjects\": null,\r\n    \"result\": {\r\n      \"metadata\": {}\r\n    }\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "http://{{hostname}}/",
					"protocol": "http",
					"host": [
						"{{hostname}}"
					],
					"path": [
						""
					]
				}
			},
			"response": []
		}
	]
}